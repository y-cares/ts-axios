{"map":"{\"version\":3,\"file\":\"url.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/helpers/url.ts\"],\"names\":[],\"mappings\":\"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\"}","code":"// 处理 url 的辅助方法\r\nimport { isDate, isPlainObject, isURLSearchParams } from './util';\r\nfunction enCode(val) {\r\n    return encodeURIComponent(val)\r\n        .replace(/%40/g, '@')\r\n        .replace(/%3A/ig, ':')\r\n        .replace(/%24/g, '$')\r\n        .replace(/%2C/ig, ',')\r\n        .replace(/%20/g, '+')\r\n        .replace(/%5B/ig, '[')\r\n        .replace(/%5D/ig, ']');\r\n}\r\nexport function buildUrl(url, params, paramsSerialize) {\r\n    if (!params)\r\n        return url;\r\n    var serializedParams;\r\n    // 自定义参数序列化规则\r\n    if (paramsSerialize) {\r\n        serializedParams = paramsSerialize(params);\r\n    }\r\n    else if (isURLSearchParams(params)) {\r\n        serializedParams = params.toString();\r\n    }\r\n    else {\r\n        var parts_1 = [];\r\n        Object.keys(params).forEach(function (key) {\r\n            var val = params[key];\r\n            if (val === null || typeof val === 'undefined')\r\n                return;\r\n            var values = [];\r\n            if (Array.isArray(val)) {\r\n                values = val;\r\n                key += '[]';\r\n            }\r\n            else {\r\n                values = [val];\r\n            }\r\n            ;\r\n            values.forEach(function (val) {\r\n                if (isDate(val)) {\r\n                    val = val.toISOString();\r\n                }\r\n                else if (isPlainObject(val)) {\r\n                    val = JSON.stringify(val);\r\n                }\r\n                parts_1.push(enCode(key) + \"=\" + enCode(val));\r\n            });\r\n        });\r\n        serializedParams = parts_1.join('&');\r\n    }\r\n    if (serializedParams) {\r\n        var marIndex = url.indexOf('#');\r\n        if (marIndex !== -1) {\r\n            url = url.slice(0, marIndex);\r\n        }\r\n        url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\r\n    }\r\n    return url;\r\n}\r\n;\r\n// 判断是否是绝对路径\r\nexport function isAbsoluteURL(url) {\r\n    return /(^[a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\r\n}\r\nexport function combineURL(baseURL, relativeURL) {\r\n    return relativeURL ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '') : baseURL;\r\n}\r\n// 判断是否是同源请求\r\nexport function isURLSameOrigin(requestURL) {\r\n    var parseOrigin = resolveURL(requestURL);\r\n    return ((parseOrigin.protocol === currentOrigin.protocol) && (parseOrigin.host === currentOrigin.host));\r\n}\r\nvar urlParsingNode = document.createElement('a');\r\nvar currentOrigin = resolveURL(window.location.href);\r\nfunction resolveURL(url) {\r\n    urlParsingNode.setAttribute('href', url);\r\n    var protocol = urlParsingNode.protocol, host = urlParsingNode.host;\r\n    return {\r\n        protocol: protocol,\r\n        host: host\r\n    };\r\n}\r\n//# sourceMappingURL=url.js.map","dts":{"name":"/Users/nan/Desktop/ts-axios/dist/types/helpers/url.d.ts","writeByteOrderMark":false,"text":"export declare function buildUrl(url: string, params?: any, paramsSerialize?: (params: any) => string): string;\r\nexport declare function isAbsoluteURL(url: string): boolean;\r\nexport declare function combineURL(baseURL: string, relativeURL?: string): string;\r\nexport declare function isURLSameOrigin(requestURL: string): boolean;\r\n"}}

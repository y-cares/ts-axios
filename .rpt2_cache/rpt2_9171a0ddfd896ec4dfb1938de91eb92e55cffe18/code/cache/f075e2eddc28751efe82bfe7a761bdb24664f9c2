{"map":"{\"version\":3,\"file\":\"cancelToken.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/cancel/cancelToken.ts\"],\"names\":[],\"mappings\":\"AAEA,OAAO,MAAM,MAAM,UAAU,CAAC;AAM9B;IAII,qBAAY,OAAsB;QAAlC,iBAaC;QAZG,IAAI,cAA8B,CAAC;QAEnC,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAS,UAAA,OAAO;YACtC,cAAc,GAAG,OAAO,CAAC;QAC7B,CAAC,CAAC,CAAA;QAEF,OAAO,CAAC,UAAA,OAAO;YACX,IAAI,KAAI,CAAC,MAAM;gBAAE,OAAO;YACxB,KAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC;YAClC,uCAAuC;YACvC,cAAc,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC;QAChC,CAAC,CAAC,CAAA;IACN,CAAC;IAED,oCAAc,GAAd;QACI,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,MAAM,IAAI,CAAC,MAAM,CAAC;SACrB;IACL,CAAC;IAEM,kBAAM,GAAb;QACI,IAAI,MAAiB,CAAC;QACtB,IAAM,KAAK,GAAG,IAAI,WAAW,CAAC,UAAA,CAAC;YAC3B,MAAM,GAAG,CAAC,CAAC;QACf,CAAC,CAAC,CAAC;QACH,OAAO;YACH,MAAM,QAAA;YACN,KAAK,OAAA;SACR,CAAA;IACL,CAAC;IACL,kBAAC;AAAD,CAAC,AAnCD,IAmCC\"}","code":"import Cancel from './cancel';\r\nvar CancelToken = /** @class */ (function () {\r\n    function CancelToken(excutor) {\r\n        var _this = this;\r\n        var resolvePromise;\r\n        this.promise = new Promise(function (resolve) {\r\n            resolvePromise = resolve;\r\n        });\r\n        excutor(function (message) {\r\n            if (_this.reason)\r\n                return;\r\n            _this.reason = new Cancel(message);\r\n            // 将 promise 从 pedding 状态进入到 resolve 状态\r\n            resolvePromise(_this.reason);\r\n        });\r\n    }\r\n    CancelToken.prototype.throwIfRequest = function () {\r\n        if (this.reason) {\r\n            throw this.reason;\r\n        }\r\n    };\r\n    CancelToken.source = function () {\r\n        var cancel;\r\n        var token = new CancelToken(function (c) {\r\n            cancel = c;\r\n        });\r\n        return {\r\n            cancel: cancel,\r\n            token: token\r\n        };\r\n    };\r\n    return CancelToken;\r\n}());\r\nexport default CancelToken;\r\n//# sourceMappingURL=cancelToken.js.map","dts":{"name":"/Users/nan/Desktop/ts-axios/dist/types/cancel/cancelToken.d.ts","writeByteOrderMark":false,"text":"import { CancelExcutor, CancelTokenSource } from '../types';\r\nimport Cancel from './cancel';\r\nexport default class CancelToken {\r\n    promise: Promise<Cancel>;\r\n    reason?: Cancel;\r\n    constructor(excutor: CancelExcutor);\r\n    throwIfRequest(): void;\r\n    static source(): CancelTokenSource;\r\n}\r\n"}}

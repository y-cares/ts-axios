{"map":"{\"version\":3,\"file\":\"mergeConfig.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/core/mergeConfig.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAC,aAAa,EAAE,SAAS,EAAC,MAAM,iBAAiB,CAAC;AAGzD,IAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAEnC,QAAQ;AACR,SAAS,YAAY,CAAC,IAAS,EAAE,IAAS;IACtC,OAAO,OAAO,IAAI,KAAK,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;AACrD,CAAC;AAED,aAAa;AACb,SAAS,aAAa,CAAC,IAAS,EAAE,IAAS;IACvC,IAAI,OAAO,IAAI,KAAK,WAAW;QAAE,OAAO,IAAI,CAAC;AACjD,CAAC;AAED,UAAU;AACV,SAAS,cAAc,CAAC,IAAS,EAAE,IAAS;IACxC,IAAI,aAAa,CAAC,IAAI,CAAC,EAAE;QACrB,OAAO,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KAChC;SAAM,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;QACpC,OAAO,IAAI,CAAC;KACf;SAAM,IAAI,aAAa,CAAC,IAAI,CAAC,EAAE;QAC5B,OAAO,SAAS,CAAC,IAAI,CAAC,CAAA;KACzB;SAAM,IAAI,OAAO,IAAI,KAAK,WAAW,EAAE;QACpC,OAAO,IAAI,CAAC;KACf;AACL,CAAC;AAED,IAAM,iBAAiB,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;AACpD,iBAAiB,CAAC,OAAO,CAAC,UAAA,GAAG;IACzB,MAAM,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC;AAChC,CAAC,CAAC,CAAA;AAEF,IAAM,kBAAkB,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AAC/C,kBAAkB,CAAC,OAAO,CAAC,UAAA,GAAG;IAC1B,MAAM,CAAC,GAAG,CAAC,GAAG,cAAc,CAAC;AACjC,CAAC,CAAC,CAAA;AAGF,QAAQ;AACR,MAAM,CAAC,OAAO,UAAU,WAAW,CAC/B,OAA2B,EAC3B,OAA4B;IAE5B,IAAI,CAAC,OAAO;QAAE,OAAO,GAAG,EAAE,CAAC;IAE3B,IAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAEnC,KAAK,IAAI,GAAG,IAAI,OAAO,EAAE;QACrB,UAAU,CAAC,GAAG,CAAC,CAAC;KACnB;IAED,KAAK,IAAI,GAAG,IAAI,OAAO,EAAE;QACrB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;YAAE,UAAU,CAAC,GAAG,CAAC,CAAC;KACtC;IAED,SAAS,UAAU,CAAC,GAAW;QAC3B,IAAM,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,IAAI,YAAY,CAAC;QAC1C,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,OAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;IACrD,CAAC;IAED,OAAO,MAAM,CAAC;AAClB,CAAC\"}","code":"import { isPlainObject, deepMerge } from '../helpers/util';\r\nvar strats = Object.create(null);\r\n// 默认配置项\r\nfunction defaultStrat(val1, val2) {\r\n    return typeof val2 !== 'undefined' ? val2 : val1;\r\n}\r\n// 区后一个配置项的配置\r\nfunction fromVal2Strat(val1, val2) {\r\n    if (typeof val2 !== 'undefined')\r\n        return val2;\r\n}\r\n// 深度合并配置项\r\nfunction deepMergeStrat(val1, val2) {\r\n    if (isPlainObject(val2)) {\r\n        return deepMerge(val1, val2);\r\n    }\r\n    else if (typeof val2 !== 'undefined') {\r\n        return val2;\r\n    }\r\n    else if (isPlainObject(val1)) {\r\n        return deepMerge(val1);\r\n    }\r\n    else if (typeof val1 !== 'undefined') {\r\n        return val1;\r\n    }\r\n}\r\nvar stratKeysFromVal2 = ['url', 'params', 'data'];\r\nstratKeysFromVal2.forEach(function (key) {\r\n    strats[key] = fromVal2Strat;\r\n});\r\nvar stratKeysDeepMerge = ['headers', 'auth'];\r\nstratKeysDeepMerge.forEach(function (key) {\r\n    strats[key] = deepMergeStrat;\r\n});\r\n// 合并配置项\r\nexport default function mergeConfig(config1, config2) {\r\n    if (!config2)\r\n        config2 = {};\r\n    var config = Object.create(null);\r\n    for (var key in config2) {\r\n        mergeField(key);\r\n    }\r\n    for (var key in config1) {\r\n        if (!config2[key])\r\n            mergeField(key);\r\n    }\r\n    function mergeField(key) {\r\n        var strat = strats[key] || defaultStrat;\r\n        config[key] = strat(config1[key], config2[key]);\r\n    }\r\n    return config;\r\n}\r\n//# sourceMappingURL=mergeConfig.js.map","dts":{"name":"/Users/nan/Desktop/ts-axios/dist/types/core/mergeConfig.d.ts","writeByteOrderMark":false,"text":"import { AxiosRequestConfig } from './../types/index';\r\nexport default function mergeConfig(config1: AxiosRequestConfig, config2?: AxiosRequestConfig): AxiosRequestConfig;\r\n"}}
